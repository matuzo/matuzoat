!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(2),t.exports=n(1)},function(t,e){},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.canvas=document.querySelector(e.canvas),this.canvas&&(this.context=this.canvas.getContext("2d"),this.color="red",this.size=this.prop_set(e.size,20),this.num_x=e.num_x,this.num_y=e.num_y,this.init_canvas())}var e,n,s;return e=t,(n=[{key:"init_canvas",value:function(){if(this.prepare_canvas(),this.attach_events(),this.options.pattern&&this.parse_pattern(),this.options.fill){for(var t=Math.round(this.get_parent_width()/this.size/2),e=0;e<t;e++)this.squares.push({x:this.size*(2*e),y:0});this.draw_squares()}}},{key:"attach_events",value:function(){this.place_square=this.place_square.bind(this),this.canvas.addEventListener("click",this.place_square)}},{key:"place_square",value:function(t){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var e=t.pageX-t.target.offsetLeft,n=t.pageY-t.target.offsetTop,i=e-e%this.size,s=n-n%this.size;s===this.canvas.height&&(s-=this.size),i===this.canvas.width&&(i-=this.size);var r=this.squares.findIndex(function(t){return t.x===i&t.y===s});r>-1?this.squares.splice(r,1):this.squares.push({x:i,y:s}),this.draw_squares(this.context,this.squares)}},{key:"prop_set",value:function(t,e){return t||e}},{key:"prepare_canvas",value:function(){this.canvas.removeAttribute("hidden"),this.canvas.width=this.num_x*this.size,this.canvas.height=this.num_y*this.size,"infinite"===this.num_x&&(this.canvas.width=this.get_parent_width()),this.squares=[]}},{key:"get_parent_width",value:function(){var t=getComputedStyle(this.canvas.parentNode),e=this.canvas.parentNode.clientWidth;return e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}},{key:"parse_pattern",value:function(){for(var t=this.options.pattern.split(","),e=0;e<t.length;e++){var n=parseInt(t[e].trim()),i=Math.floor(e/this.num_x),s=(e+this.num_x)%this.num_x;"infinite"===this.num_x&&(i=0,s=e),n&&this.squares.push({x:this.size*s,y:this.size*i})}this.draw_squares()}},{key:"draw_squares",value:function(){this.context.fillStyle=this.prop_set(this.options.color,"rgba(51, 51, 51, 0.9)");for(var t=0;t<this.squares.length;t++){var e=this.squares[t];this.context.fillRect(e.x,e.y,this.size,this.size)}}}])&&i(e.prototype,n),s&&i(e,s),t}(),r=r||function(t){var e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)},a=r;var o,u=function(){navigator.connection.effectiveType.includes("2g")||navigator.connection.saveData||a(function(){!function(){for(var t,e,n=document.querySelectorAll(".js-nav-main a"),i=0;i<n.length;i++)t=n[i].href,e=void 0,((e=document.createElement("link")).relList||{}).supports&&!e.relList.supports("prefetch")||(e.rel="prefetch",e.href=t,document.head.appendChild(e))}()})};new s({canvas:".js-sq-tl",num_x:1,num_y:1,pattern:"1",color:"#36B1BF"}),new s({canvas:".js-sq-tr",num_x:2,num_y:1,pattern:"1,1",color:"#36B1BF"}),new s({canvas:".js-sq-br",num_x:1,num_y:2,pattern:"1,1",color:"#F23C50"}),new s({canvas:".js-sq-bl",num_x:2,num_y:2,pattern:"1,0,1,1",color:"#F23C50"}),new s({canvas:".js-sq-home-intro",num_x:6,num_y:5,color:"#568b8e",size:10,pattern:"0,0,1,1,0,1,\n    0,1,1,0,0,1,\n    1,1,0,0,0,1,\n    0,1,1,0,0,0,\n    0,0,1,1,0,1"}),new s({canvas:".js-sq-site-header",num_x:"infinite",num_y:1,size:5,color:"#1d4e6d",fill:"even"});document.querySelector(".js-random-emoji")&&(document.querySelector(".js-random-emoji").textContent=(o=["🤤","🐳","🍻","👊🏻","🍳"])[Math.round(Math.random()*(o.length-1))]),document.querySelector(".js-scroll-top")&&document.querySelector(".js-scroll-top").addEventListener("click",function(t){t.preventDefault(),document.getElementById("top").scrollIntoView({behavior:"smooth",block:"center"})}),u()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL3NjcmlwdHMvc3F1YXJlcy5qcyIsIndlYnBhY2s6Ly8vLi9zdGF0aWMvc2NyaXB0cy9yZXF1ZXN0LWlkbGUtY2FsbGJhY2suanMiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL3NjcmlwdHMvcHJlZmV0Y2gtbmF2LmpzIiwid2VicGFjazovLy8uL3N0YXRpYy9zY3JpcHRzL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiU3F1YXJlcyIsIm9wdGlvbnMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGV4dCIsImdldENvbnRleHQiLCJjb2xvciIsInNpemUiLCJwcm9wX3NldCIsIm51bV94IiwibnVtX3kiLCJpbml0X2NhbnZhcyIsInByZXBhcmVfY2FudmFzIiwiYXR0YWNoX2V2ZW50cyIsInBhdHRlcm4iLCJwYXJzZV9wYXR0ZXJuIiwiZmlsbCIsIm51bV9ib3hlcyIsIk1hdGgiLCJyb3VuZCIsImdldF9wYXJlbnRfd2lkdGgiLCJzcXVhcmVzIiwicHVzaCIsIngiLCJ5IiwiZHJhd19zcXVhcmVzIiwicGxhY2Vfc3F1YXJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjbGVhclJlY3QiLCJ3aWR0aCIsImhlaWdodCIsInhfcmF3IiwicGFnZVgiLCJ0YXJnZXQiLCJvZmZzZXRMZWZ0IiwieV9yYXciLCJwYWdlWSIsIm9mZnNldFRvcCIsImluZGV4IiwiZmluZEluZGV4IiwicG9zIiwic3BsaWNlIiwicHJvcCIsInJlbW92ZUF0dHJpYnV0ZSIsInBhcmVudF9zdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFyZW50Tm9kZSIsInBhcmVudF93aWR0aCIsImNsaWVudFdpZHRoIiwicGFyc2VGbG9hdCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Iiwic3BsaXQiLCJsZW5ndGgiLCJib3giLCJwYXJzZUludCIsInRyaW0iLCJyb3ciLCJmbG9vciIsImNvbCIsImZpbGxTdHlsZSIsInNxdWFyZSIsImZpbGxSZWN0IiwicmVxdWVzdElkbGVDYWxsYmFjayIsImNiIiwic3RhcnQiLCJEYXRlIiwibm93Iiwic2V0VGltZW91dCIsImRpZFRpbWVvdXQiLCJ0aW1lUmVtYWluaW5nIiwibWF4IiwicHJlZmV0Y2hOYXYiLCJlbW9qaXMiLCJuYXZpZ2F0b3IiLCJjb25uZWN0aW9uIiwiZWZmZWN0aXZlVHlwZSIsImluY2x1ZGVzIiwic2F2ZURhdGEiLCJ1cmwiLCJsaW5rIiwibGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaHJlZiIsImNyZWF0ZUVsZW1lbnQiLCJyZWxMaXN0Iiwic3VwcG9ydHMiLCJyZWwiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJnZXRMaW5rcyIsInRleHRDb250ZW50IiwicmFuZG9tIiwicHJldmVudERlZmF1bHQiLCJnZXRFbGVtZW50QnlJZCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJibG9jayJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcs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Q1ksSUFBSTlGLEVBQVEsQ0FDMUJJLE9BQVEsWUFDUlEsTUFBTyxFQUNQQyxNQUFPLEVBQ1BJLFFBQVMsSUFDVFIsTUFBTyxZQUdPLElBQUlULEVBQVEsQ0FDMUJJLE9BQVEsWUFDUlEsTUFBTyxFQUNQQyxNQUFPLEVBQ1BJLFFBQVMsTUFDVFIsTUFBTyxZQUdPLElBQUlULEVBQVEsQ0FDMUJJLE9BQVEsWUFDUlEsTUFBTyxFQUNQQyxNQUFPLEVBQ1BJLFFBQVMsTUFDVFIsTUFBTyxZQUdPLElBQUlULEVBQVEsQ0FDMUJJLE9BQVEsWUFDUlEsTUFBTyxFQUNQQyxNQUFPLEVBQ1BJLFFBQVMsVUFDVFIsTUFBTyxZQUdVLElBQUlULEVBQVEsQ0FDN0JJLE9BQVEsb0JBQ1JRLE1BQU8sRUFDUEMsTUFBTyxFQUNQSixNQUFPLFVBQ1BDLEtBQU0sR0FDTk8sUUFBTyx3RkFPVyxJQUFJakIsRUFBUSxDQUM5QkksT0FBUSxxQkFDUlEsTUFBTyxXQUNQQyxNQUFPLEVBQ1BILEtBQU0sRUFDTkQsTUFBTyxVQUNQVSxLQUFNLFNBY0pkLFNBQVNDLGNBQWMsc0JBQ3pCRCxTQUFTQyxjQUFjLG9CQUFvQnlGLGFBUHJDbEIsRUFBUyxDQUFDLEtBQU0sS0FBTSxLQUFNLE9BQVEsT0FFckJ4RCxLQUFLQyxNQUFNRCxLQUFLMkUsVUFBWW5CLEVBQU9wQixPQUFTLE1BWS9EcEQsU0FBU0MsY0FBYyxtQkFDekJELFNBQVNDLGNBQWMsa0JBQWtCd0IsaUJBQWlCLFFBQVMsU0FBQUMsR0FDakVBLEVBQUVrRSxpQkFDRjVGLFNBQVM2RixlQUFlLE9BQU9DLGVBQWUsQ0FDNUNDLFNBQVUsU0FDVkMsTUFBTyxhQVNiekIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNsYXNzIFNxdWFyZXMge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmNhbnZhcyk7XG5cbiAgICBpZiAoIXRoaXMuY2FudmFzKSByZXR1cm47XG5cbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHRoaXMuY29sb3IgPSdyZWQnO1xuXG4gICAgdGhpcy5zaXplID0gdGhpcy5wcm9wX3NldChvcHRpb25zLnNpemUsIDIwKTtcblxuICAgIHRoaXMubnVtX3ggPSBvcHRpb25zLm51bV94O1xuICAgIHRoaXMubnVtX3kgPSBvcHRpb25zLm51bV95O1xuXG4gICAgdGhpcy5pbml0X2NhbnZhcygpO1xuICB9XG5cbiAgaW5pdF9jYW52YXMoKSB7XG4gICAgdGhpcy5wcmVwYXJlX2NhbnZhcygpO1xuICAgIHRoaXMuYXR0YWNoX2V2ZW50cygpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXR0ZXJuKSB7XG4gICAgICB0aGlzLnBhcnNlX3BhdHRlcm4oKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmZpbGwpIHtcbiAgICAgIGNvbnN0IG51bV9ib3hlcyA9IE1hdGgucm91bmQodGhpcy5nZXRfcGFyZW50X3dpZHRoKCkgLyB0aGlzLnNpemUgLyAyKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1fYm94ZXM7IGkrKykge1xuICAgICAgICB0aGlzLnNxdWFyZXMucHVzaCh7IHg6IHRoaXMuc2l6ZSAqICgyICogaSksIHk6IDAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZHJhd19zcXVhcmVzKCk7XG4gICAgfVxuICB9XG5cbiAgYXR0YWNoX2V2ZW50cygpIHtcbiAgICB0aGlzLnBsYWNlX3NxdWFyZSA9IHRoaXMucGxhY2Vfc3F1YXJlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnBsYWNlX3NxdWFyZSk7XG4gIH1cblxuICBwbGFjZV9zcXVhcmUoZSkge1xuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgIGNvbnN0IHhfcmF3ID0gZS5wYWdlWCAtIGUudGFyZ2V0Lm9mZnNldExlZnQ7XG4gICAgICBjb25zdCB5X3JhdyA9IGUucGFnZVkgLSBlLnRhcmdldC5vZmZzZXRUb3A7XG5cbiAgICAgIGxldCB4ID0geF9yYXcgLSB4X3JhdyAlIHRoaXMuc2l6ZTtcbiAgICAgIGxldCB5ID0geV9yYXcgLSB5X3JhdyAlIHRoaXMuc2l6ZTtcblxuICAgICAgaWYgKHkgPT09IHRoaXMuY2FudmFzLmhlaWdodCkge1xuICAgICAgICB5IC09IHRoaXMuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmICh4ID09PSB0aGlzLmNhbnZhcy53aWR0aCkge1xuICAgICAgICB4IC09IHRoaXMuc2l6ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNxdWFyZXMuZmluZEluZGV4KHBvcyA9PiBwb3MueCA9PT0geCAmIHBvcy55ID09PSB5KTtcblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpcy5zcXVhcmVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNxdWFyZXMucHVzaCh7IHg6IHgsIHk6IHl9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kcmF3X3NxdWFyZXModGhpcy5jb250ZXh0LCB0aGlzLnNxdWFyZXMpO1xuICB9XG5cbiAgcHJvcF9zZXQocHJvcCwgdmFsdWUpIHtcbiAgICByZXR1cm4gcHJvcCA/IHByb3AgOiB2YWx1ZTtcbiAgfVxuXG4gIHByZXBhcmVfY2FudmFzKCkge1xuICAgIHRoaXMuY2FudmFzLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG5cbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMubnVtX3ggKiB0aGlzLnNpemU7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5udW1feSAqIHRoaXMuc2l6ZTtcblxuICAgIGlmICh0aGlzLm51bV94ID09PSAnaW5maW5pdGUnKSB7ICBcbiAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5nZXRfcGFyZW50X3dpZHRoKCk7XG4gICAgfVxuXG4gICAgdGhpcy5zcXVhcmVzID0gW107XG4gIH1cblxuICBnZXRfcGFyZW50X3dpZHRoKCkge1xuICAgIGNvbnN0IHBhcmVudF9zdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuY2FudmFzLnBhcmVudE5vZGUpO1xuICAgIGxldCBwYXJlbnRfd2lkdGggPSB0aGlzLmNhbnZhcy5wYXJlbnROb2RlLmNsaWVudFdpZHRoO1xuICAgIHBhcmVudF93aWR0aCAtPSBwYXJzZUZsb2F0KHBhcmVudF9zdHlsZXMucGFkZGluZ0xlZnQpICsgcGFyc2VGbG9hdChwYXJlbnRfc3R5bGVzLnBhZGRpbmdSaWdodCk7XG5cbiAgICByZXR1cm4gcGFyZW50X3dpZHRoO1xuICB9XG5cbiAgcGFyc2VfcGF0dGVybigpIHtcbiAgICBjb25zdCBwYXR0ZXJuID0gdGhpcy5vcHRpb25zLnBhdHRlcm4uc3BsaXQoJywnKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYm94ID0gcGFyc2VJbnQocGF0dGVybltpXS50cmltKCkpO1xuICAgICAgbGV0IHJvdyA9IE1hdGguZmxvb3IoaSAvIHRoaXMubnVtX3gpO1xuICAgICAgbGV0IGNvbCA9IChpICsgdGhpcy5udW1feCkgJSB0aGlzLm51bV94O1xuXG4gICAgICBpZiAodGhpcy5udW1feCA9PT0gJ2luZmluaXRlJykge1xuICAgICAgICByb3cgPSAwO1xuICAgICAgICBjb2wgPSBpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYm94KSB7XG4gICAgICAgIHRoaXMuc3F1YXJlcy5wdXNoKHsgeDogdGhpcy5zaXplICogY29sLCB5OiB0aGlzLnNpemUgKiByb3cgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kcmF3X3NxdWFyZXMoKTtcbiAgfVxuXG4gIGRyYXdfc3F1YXJlcygpIHtcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5wcm9wX3NldCh0aGlzLm9wdGlvbnMuY29sb3IsICdyZ2JhKDUxLCA1MSwgNTEsIDAuOSknKTtcblxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnNxdWFyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHNxdWFyZSA9IHRoaXMuc3F1YXJlc1tpXTtcbiAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdChzcXVhcmUueCwgc3F1YXJlLnksIHRoaXMuc2l6ZSwgdGhpcy5zaXplKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3F1YXJlcztcblxuXG4iLCJjb25zdCByZXF1ZXN0SWRsZUNhbGxiYWNrID0gcmVxdWVzdElkbGVDYWxsYmFjayB8fFxuICBmdW5jdGlvbiAoY2IpIHtcbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY2Ioe1xuICAgICAgICBkaWRUaW1lb3V0OiBmYWxzZSxcbiAgICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCA1MCAtIChEYXRlLm5vdygpIC0gc3RhcnQpKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sIDEpO1xuICB9O1xuXG5leHBvcnQgZGVmYXVsdCByZXF1ZXN0SWRsZUNhbGxiYWNrO1xuIiwiLyoqXG4gKiBJbnNwaXJlZCBieSBxdWlja2xpbmsuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lTGFicy9xdWlja2xpbmtcbiAqL1xuIFxuaW1wb3J0IHJlcXVlc3RJZGxlQ2FsbGJhY2sgZnJvbSAnLi9yZXF1ZXN0LWlkbGUtY2FsbGJhY2suanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVQcmVmZXRjaExpbmsodXJsKSB7XG4gIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG5cbiAgLy8gSWYgcHJlZmV0Y2ggc3VwcG9ydGVkICAgIFxuICBpZiAoKGxpbmsucmVsTGlzdCB8fCB7fSkuc3VwcG9ydHMgJiYgIWxpbmsucmVsTGlzdC5zdXBwb3J0cygncHJlZmV0Y2gnKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxpbmsucmVsID0gJ3ByZWZldGNoJztcbiAgbGluay5ocmVmID0gdXJsO1xuXG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG59XG5cbmZ1bmN0aW9uIGdldExpbmtzKCkge1xuICAvLyBHZXQgYWxsIGxpbmtzIGluIG1haW4gbmF2XG4gIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLW5hdi1tYWluIGEnKTtcblxuICBmb3IobGV0IGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKyspIHtcbiAgICBjcmVhdGVQcmVmZXRjaExpbmsobGlua3NbaV0uaHJlZik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlZmV0Y2hOYXYoKSB7XG4gIC8vIGRvbid0IHByZWZldGNoIGlmIDJnIGNvbm5lY3Rpb24gb3IgZGF0YS1zYXZlciBlbmFibGVkXG4gIGlmIChuYXZpZ2F0b3IuY29ubmVjdGlvbi5lZmZlY3RpdmVUeXBlLmluY2x1ZGVzKCcyZycpIHx8IG5hdmlnYXRvci5jb25uZWN0aW9uLnNhdmVEYXRhKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gc3RhcnQgYXMgc29vbiBhcyB0aGUgYnJvd3NlciBpc24ndCBidXN5IGFueW1vcmVcbiAgcmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgZ2V0TGlua3MoKTtcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgcHJlZmV0Y2hOYXY7XG4iLCJpbXBvcnQgU3F1YXJlcyBmcm9tICcuL3NxdWFyZXMnO1xuaW1wb3J0IHByZWZldGNoTmF2IGZyb20gJy4vcHJlZmV0Y2gtbmF2JztcblxuY29uc3QgaG9tZV90bCA9IG5ldyBTcXVhcmVzKHtcbiAgY2FudmFzOiAnLmpzLXNxLXRsJyxcbiAgbnVtX3g6IDEsXG4gIG51bV95OiAxLFxuICBwYXR0ZXJuOiAnMScsXG4gIGNvbG9yOiAnIzM2QjFCRidcbn0pO1xuXG5jb25zdCBob21lX3RyID0gbmV3IFNxdWFyZXMoe1xuICBjYW52YXM6ICcuanMtc3EtdHInLFxuICBudW1feDogMixcbiAgbnVtX3k6IDEsXG4gIHBhdHRlcm46ICcxLDEnLFxuICBjb2xvcjogJyMzNkIxQkYnXG59KTtcblxuY29uc3QgaG9tZV9iciA9IG5ldyBTcXVhcmVzKHtcbiAgY2FudmFzOiAnLmpzLXNxLWJyJyxcbiAgbnVtX3g6IDEsXG4gIG51bV95OiAyLFxuICBwYXR0ZXJuOiAnMSwxJyxcbiAgY29sb3I6ICcjRjIzQzUwJ1xufSk7XG5cbmNvbnN0IGhvbWVfYmwgPSBuZXcgU3F1YXJlcyh7XG4gIGNhbnZhczogJy5qcy1zcS1ibCcsXG4gIG51bV94OiAyLFxuICBudW1feTogMixcbiAgcGF0dGVybjogJzEsMCwxLDEnLFxuICBjb2xvcjogJyNGMjNDNTAnXG59KTtcblxuY29uc3QgaG9tZV9pbnRybyA9IG5ldyBTcXVhcmVzKHtcbiAgY2FudmFzOiAnLmpzLXNxLWhvbWUtaW50cm8nLFxuICBudW1feDogNixcbiAgbnVtX3k6IDUsXG4gIGNvbG9yOiAnIzU2OGI4ZScsXG4gIHNpemU6IDEwLFxuICBwYXR0ZXJuOiBgMCwwLDEsMSwwLDEsXG4gICAgMCwxLDEsMCwwLDEsXG4gICAgMSwxLDAsMCwwLDEsXG4gICAgMCwxLDEsMCwwLDAsXG4gICAgMCwwLDEsMSwwLDFgXG59KTtcblxuY29uc3Qgc2l0ZV9oZWFkZXIgPSBuZXcgU3F1YXJlcyh7XG4gIGNhbnZhczogJy5qcy1zcS1zaXRlLWhlYWRlcicsXG4gIG51bV94OiAnaW5maW5pdGUnLFxuICBudW1feTogMSxcbiAgc2l6ZTogNSxcbiAgY29sb3I6ICcjMWQ0ZTZkJyxcbiAgZmlsbDogJ2V2ZW4nXG59KTtcblxuLyoqXG4gKiBSYW5kb20gZW1vamlcbiAqL1xuXG5mdW5jdGlvbiBnZXRSYW5kb21FbW9qaSgpIHtcbiAgY29uc3QgZW1vamlzID0gWyfwn6SkJywgJ/CfkLMnLCAn8J+NuycsICfwn5GK8J+PuycsICfwn42zJ107XG5cbiAgY29uc3QgZW1vamkgPSBlbW9qaXNbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGVtb2ppcy5sZW5ndGggLSAxKSldO1xuICByZXR1cm4gZW1vamk7XG59XG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtcmFuZG9tLWVtb2ppJykpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXJhbmRvbS1lbW9qaScpLnRleHRDb250ZW50ID0gZ2V0UmFuZG9tRW1vamkoKTtcbn1cblxuLyoqXG4gKiBTbW9vdGhseSBzY3JvbGwgdG8gdG9wXG4gKi9cblxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1zY3JvbGwtdG9wJykpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXNjcm9sbC10b3AnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9wJykuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgYmxvY2s6ICdjZW50ZXInXG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFByZWZldGNoIGxpbmtzIGluIG5hdiBmb3IgYmV0dGVyIHBlcmNlaXZlZCBwZXJmb3JtYW5jZVxuICovXG5cbnByZWZldGNoTmF2KCk7XG4iXSwic291cmNlUm9vdCI6IiJ9