---
title: "An accessible, filterable list with AlpineJS"
permalink: blog/{{ title | slug }}/index.html
meta:
  description: 'Here’s how I’ve enhanced a simple static list with a multi-select filter using AlpineJS.'
  image: sm_elementdiversity.png
teaser: 'Here’s how I’ve enhanced a simple static list with a multi-select filter using AlpineJS.'
date: 2022-02-02T12:38:54.969Z
tags:
  - blog
  - html
---
Most sites I build are static sites with HTML files generated by a static site generator or pages served on the server by a CMS like Wordpress of CraftCMS. I use JavaScript only on top to enhance the user experience. I use it for things like disclosure widgets, accordions, fly-out navigations, or modals. The requirements for most of these features are simple, so using a library or framework would be overkill. Recently, however, I found myself in a situation where writing a component from scratch without the help of a framework would’ve been too complicated and messy. 

<!-- teaser -->

## Lightweight frameworks

My task was to add multiple filters and sorting to an existing list of items. I didn’t want to use a JavaScript Framework like Vue or React only because I needed help in some places on my site, and I didn’t want to change my stack. [I consulted Twitter](https://twitter.com/mmatuzo/status/1483739260092100609) and people suggested minimal frameworks like [lit](https://lit.dev/), [petite-vue](https://github.com/vuejs/petite-vue), [hyperscript](https://hyperscript.org/) or [AlpineJS](https://alpinejs.dev/). I decided to go with AlpineJS because it sounded like exactly what I needed.

<div class="quote">
  <blockquote>
  Alpine is a rugged, minimal tool for composing behavior directly in your markup. Think of it like jQuery for the modern web. Plop in a script tag and get going.
  </blockquote>
</div>

## AlpineJS

I won’t describe how AlpineJS works in detail (checkout out the [Alpine docs](https://alpinejs.dev/start-here)), but here’s a quick example.

```html
<h2>Beastie Boys Anthology</h2>
<p>The Sounds of Science is the first anthology album by American rap rock group Beastie Boys composed of greatest hits, B-sides, and previously unreleased tracks.</p>
<ol>
  <li>Beastie Boys</li>
  <li>Slow And Low</li>
  <li>Shake Your Rump</li>
  <li>Gratitude</li>
  <li>Skills To Pay The Bills</li>
  <li>Root Down</li>
  <li>Believe Me</li>
  <li>Sure Shot</li>
  <li>Body Movin' (Fatboy Slim Remix)</li>
  <li>Boomin' Granny</li>
  <li>Fight For Your Right</li>
  <li>Country Mike's Theme</li>
  <li>Pass The Mic</li>
  <li>Something's Got To Give</li>
  <li>Bodhisattva Vow</li>
  <li>Sabrosa</li>
  <li>Song For The Man</li>
  <li>Soba Violence</li>
  <li>Alive</li>
  <li>Jimmy James (Original Version)</li>
  <li>Three MC's And One DJ (Live Video Version)</li>
</ol>
```

If you want to turn a block of text into a disclosure widget, all you have to do is add a button and a bunch of attributes.

```html
<h2>Beastie Boys Anthology</h2>
<p>The Sounds of Science is the first anthology album by American rap rock group Beastie Boys composed of greatest hits, B-sides, and previously unreleased tracks.</p>

<div x-data="{ open: false }">
 <button @click="open = ! open" :aria-expanded="open ? 'true' : 'false'" aria-controls="tracklist">Tracklist</button>

  <ol x-show="open" id="tracklist" x-cloak>
    <li>Beastie Boys</li>
    <li>Slow And Low</li>
    …
  </ol>
</div>
```
<div class="demo">
  <h2>Beastie Boys Anthology</h2>
  <p>The Sounds of Science is the first anthology album by American rap rock group Beastie Boys composed of greatest hits, B-sides, and previously unreleased tracks.</p>

  <div x-data="{ open: false }">
  <button @click="open = ! open" :aria-expanded="open ? 'true' : 'false'" aria-controls="tracklist">Tracklist</button>

  <ol x-show="open" id="tracklist" x-cloak>
    <li>Beastie Boys</li>
    <li>Slow And Low</li>
    <li>Shake Your Rump</li>
    <li>Gratitude</li>
    <li>Skills To Pay The Bills</li>
    <li>Root Down</li>
    <li>Believe Me</li>
    <li>Sure Shot</li>
    <li>Body Movin' (Fatboy Slim Remix)</li>
    <li>Boomin' Granny</li>
    <li>Fight For Your Right</li>
    <li>Country Mike's Theme</li>
    <li>Pass The Mic</li>
    <li>Something's Got To Give</li>
    <li>Bodhisattva Vow</li>
    <li>Sabrosa</li>
    <li>Song For The Man</li>
    <li>Soba Violence</li>
    <li>Alive</li>
    <li>Jimmy James (Original Version)</li>
    <li>Three MC's And One DJ (Live Video Version)</li>
  </ol>
  </div>
</div>

Pretty neat! You can enhance existing static content with JavaScript without having to write a single line of JS. Of course, you can and you have to write some JavaScript, if you’re working on more complex features. AlpineJS provides you with events and methods to help you with that.

<script defer src="https://unpkg.com/alpinejs@3.8.1/dist/cdn.min.js"></script>

## Filtering a list

Let’s say I want to create a catalogue of all the records I own. Since I have over 400 records, it would be nice to have the ability to filter records by artist, release date and genre.

Let’s start off with a simple list. Usually I use eleventy (11ty) to build my static sites. 11ty allows you to write content directly into a HTML, markdown, or nunjucks file, or to store the data in frontmatter or in a JSON file. I don’t want to manage 400 entries manually, so I’ll store them in a JSON file.

This post is not about eleventy, but we’ll need the JSON file later, so I want to give you an idea how the list might look like.

### JSON

```json
[
  {
    artist: "Akne Kid Joe",
    title: "Die große Palmöllüge"
    year: 2020,
    genre: "Punk"
  },
  {
    artist: "Lizzo",
    title: "Cuz I Love You"
    year: 2019,
    genre: "Hip Hop"
  }
]
```

### Nunjucks

{% highlight "jinja2" %}
<ul>
  { % for record in records % }
    <li>{ { record.artist } }: { { record.name } }
  { % endforeach % }
</ul>
{% endhighlight %}

### Rendered HTML

```html
<ul>
  <li>Akne Kid Joe - Die große Palmöllüge</li>
  <li>Lizzo - Cuz I Love You</li>
</ul>
```